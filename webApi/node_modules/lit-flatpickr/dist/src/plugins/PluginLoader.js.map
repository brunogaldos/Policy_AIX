{"version":3,"file":"PluginLoader.js","sourceRoot":"","sources":["../../../src/plugins/PluginLoader.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAE3C,MAAM,CAAC,KAAK,UAAU,WAAW,CAAC,QAAsB,EAAE,OAAY;IACpE,IAAI,QAAQ,CAAC,UAAU,EAAE;QACvB,aAAa;QACb,MAAM,sBAAsB,GAAG,MAAM,MAAM,CAAC,UAAU,EAAE,GAAG,sCAAsC,CAAC,CAAC;QACnG,MAAM,gBAAgB,GAAG,sBAAsB,CAAC,OAAO,CAAC;QACxD,OAAO,GAAG;YACR,GAAG,OAAO;YACV,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,OAAO,EAAE,gBAAgB,EAAE,CAAC;YACjD,QAAQ,EAAE;gBACR,MAAM,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBAC7F,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,UAAU,CAAC;YAChC,CAAC;SACF,CAAC;KACH;IAED,IAAI,QAAQ,CAAC,WAAW,EAAE;QACxB,aAAa;QACb,MAAM,uBAAuB,GAAG,MAAM,MAAM,CAAC,UAAU,EAAE,GAAG,kCAAkC,CAAC,CAAC;QAChG,MAAM,iBAAiB,GAAG,uBAAuB,CAAC,OAAO,CAAC;QAC1D,OAAO,GAAG;YACR,GAAG,OAAO;YACV,OAAO,EAAE;gBACP,GAAG,OAAO,CAAC,OAAO;gBAClB,iBAAiB,CAAC;oBAChB,SAAS,EAAE,KAAK;oBAChB,UAAU,EAAE,QAAQ,CAAC,UAAU;oBAC/B,SAAS,EAAE,QAAQ,CAAC,SAAS;iBAC9B,CAAC;aACH;SACF,CAAC;QACF,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAC9C,MAAM,CAAC,GAAG,GAAG,YAAY,CAAC;QAC1B,MAAM,CAAC,IAAI,GAAG,UAAU,EAAE,GAAG,+BAA+B,CAAC;QAC7D,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;KACnC;IAED,OAAO,OAAO,CAAC;AACjB,CAAC","sourcesContent":["import { LitFlatpickr } from '../LitFlatpickr';\nimport { getCDNBase } from '../CdnManager';\n\nexport async function loadPlugins(instance: LitFlatpickr, options: any) {\n  if (instance.weekSelect) {\n    // @ts-ignore\n    const weekSelectPluginImport = await import(getCDNBase() + 'esm/plugins/weekSelect/weekSelect.js');\n    const weekSelectPlugin = weekSelectPluginImport.default;\n    options = {\n      ...options,\n      plugins: [...options.plugins, weekSelectPlugin()],\n      onChange: function () {\n        const weekNumber = this.selectedDates[0] ? this.config.getWeek(this.selectedDates[0]) : null;\n        this.input.value = weekNumber;\n      },\n    };\n  }\n\n  if (instance.monthSelect) {\n    // @ts-ignore\n    const monthSelectPluginImport = await import(getCDNBase() + 'esm/plugins/monthSelect/index.js');\n    const monthSelectPlugin = monthSelectPluginImport.default;\n    options = {\n      ...options,\n      plugins: [\n        ...options.plugins,\n        monthSelectPlugin({\n          shorthand: false,\n          dateFormat: instance.dateFormat,\n          altFormat: instance.altFormat,\n        }),\n      ],\n    };\n    const styles = document.createElement('link');\n    styles.rel = 'stylesheet';\n    styles.href = getCDNBase() + 'plugins/monthSelect/style.css';\n    document.head.appendChild(styles);\n  }\n\n  return options;\n}\n"]}