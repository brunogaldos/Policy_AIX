{"version":3,"file":"sms.js","sources":["../src/targets/sms.ts"],"sourcesContent":["import type { ShareMenu, ShareTarget } from '../share-menu.js';\n\nexport class SMSShareTarget extends HTMLElement implements ShareTarget {\n  public readonly displayName = 'SMS';\n  public readonly color = '43695b';\n  public readonly icon =\n    'M230 0H26A26 26 0 0 0 0 26v230l51-51h179a26 26 0 0 0 26-26V26a26 26 0 0 0-26-26zM51 90h154v25H51zm103 64H51v-26h103zm51-77H51V51h154z';\n\n  public share(shareMenu: ShareMenu) {\n    let separator = '?';\n    // iOS uses two different separators, so we have to check the iOS version and use the proper one\n    if (/iP(hone|od|ad)/.test(navigator.platform)) {\n      const [, version] = navigator.appVersion.match(/OS (\\d+)/);\n      separator = parseInt(version, 10) < 8 ? ';' : '&';\n    }\n\n    shareMenu.openWindow(\n      `sms:${separator}body=${encodeURIComponent(\n        shareMenu.title,\n      )}%0A%0A${encodeURIComponent(shareMenu.text)}%0A%0A${encodeURIComponent(\n        shareMenu.url,\n      )}`,\n      undefined,\n      true,\n    );\n  }\n}\n\ncustomElements.define('share-target-sms', SMSShareTarget);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'share-target-sms': SMSShareTarget;\n  }\n}\n"],"names":["SMSShareTarget","HTMLElement","constructor","this","displayName","color","icon","share","shareMenu","separator","test","navigator","platform","version","appVersion","match","parseInt","openWindow","encodeURIComponent","title","text","url","undefined","customElements","define"],"mappings":"AAEM,MAAOA,UAAuBC,YAApC,WAAAC,uBACkBC,KAAWC,YAAG,MACdD,KAAKE,MAAG,SACRF,KAAIG,KAClB,uIAoBH,CAlBQ,KAAAC,CAAMC,GACX,IAAIC,EAAY,IAEhB,GAAI,iBAAiBC,KAAKC,UAAUC,UAAW,CAC7C,MAAM,CAAGC,GAAWF,UAAUG,WAAWC,MAAM,YAC/CN,EAAYO,SAASH,EAAS,IAAM,EAAI,IAAM,GAC/C,CAEDL,EAAUS,WACR,OAAOR,SAAiBS,mBACtBV,EAAUW,eACFD,mBAAmBV,EAAUY,cAAcF,mBACnDV,EAAUa,YAEZC,GACA,EAEH,EAGHC,eAAeC,OAAO,mBAAoBxB"}