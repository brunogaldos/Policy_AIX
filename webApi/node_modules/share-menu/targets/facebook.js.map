{"version":3,"file":"facebook.js","sources":["../src/targets/facebook.ts"],"sourcesContent":["import { updateStringAttribute } from '../helpers.js';\nimport type { ShareMenu, ShareTarget } from '../share-menu.js';\n\nexport class FacebookShareTarget extends HTMLElement implements ShareTarget {\n  public readonly displayName = 'Facebook';\n  public readonly color = '3b5998';\n  public readonly icon =\n    'M94 50v35H68v43h26v128h53V128h36l5-43h-41V55c0-4 6-10 12-10h29V0h-40C93 0 94 43 94 50z';\n\n  /**\n   * The Facebook App ID. If the Facebook JS SDK is not found and this parameter\n   * is specified, then the Facebook share dialog will be used instead of the sharer\n   * API to make it possible to also share the text and title together with the URL.\n   *\n   * @return {string | null}\n   */\n  public get appId(): string | null {\n    return this.getAttribute('app-id');\n  }\n\n  public set appId(val: string | null | undefined) {\n    updateStringAttribute(this, 'app-id', val);\n  }\n\n  /**\n   * A URL to redirect to after the share has been completed.\n   *\n   * @return {string | null}\n   */\n  public get redirectUri(): string | null {\n    return this.getAttribute('redirect-uri');\n  }\n\n  public set redirectUri(val: string | null | undefined) {\n    updateStringAttribute(this, 'redirect-uri', val);\n  }\n\n  public share(shareMenu: ShareMenu) {\n    if (window.FB) {\n      window.FB.ui({\n        method: 'share',\n        href: shareMenu.url,\n        quote: `${shareMenu.title}\\n${shareMenu.text}`,\n      });\n    } else if (this.appId) {\n      shareMenu.openWindow('https://www.facebook.com/dialog/share', {\n        app_id: this.appId,\n        display: 'popup',\n        href: shareMenu.url,\n        quote: `${shareMenu.title}\\n${shareMenu.text}`,\n        redirect_uri: this.redirectUri || undefined,\n      });\n    } else {\n      shareMenu.openWindow('https://www.facebook.com/sharer.php', {\n        u: shareMenu.url,\n      });\n    }\n  }\n}\n\ncustomElements.define('share-target-facebook', FacebookShareTarget);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'share-target-facebook': FacebookShareTarget;\n  }\n}\n"],"names":["FacebookShareTarget","HTMLElement","constructor","this","displayName","color","icon","appId","getAttribute","val","updateStringAttribute","redirectUri","share","shareMenu","window","FB","ui","method","href","url","quote","title","text","openWindow","app_id","display","redirect_uri","undefined","u","customElements","define"],"mappings":"sDAGM,MAAOA,UAA4BC,YAAzC,WAAAC,uBACkBC,KAAWC,YAAG,WACdD,KAAKE,MAAG,SACRF,KAAIG,KAClB,wFAmDH,CA1CC,SAAWC,GACT,OAAOJ,KAAKK,aAAa,SAC1B,CAED,SAAWD,CAAME,GACfC,EAAsBP,KAAM,SAAUM,EACvC,CAOD,eAAWE,GACT,OAAOR,KAAKK,aAAa,eAC1B,CAED,eAAWG,CAAYF,GACrBC,EAAsBP,KAAM,eAAgBM,EAC7C,CAEM,KAAAG,CAAMC,GACPC,OAAOC,GACTD,OAAOC,GAAGC,GAAG,CACXC,OAAQ,QACRC,KAAML,EAAUM,IAChBC,MAAO,GAAGP,EAAUQ,UAAUR,EAAUS,SAEjCnB,KAAKI,MACdM,EAAUU,WAAW,wCAAyC,CAC5DC,OAAQrB,KAAKI,MACbkB,QAAS,QACTP,KAAML,EAAUM,IAChBC,MAAO,GAAGP,EAAUQ,UAAUR,EAAUS,OACxCI,aAAcvB,KAAKQ,kBAAegB,IAGpCd,EAAUU,WAAW,sCAAuC,CAC1DK,EAAGf,EAAUM,KAGlB,EAGHU,eAAeC,OAAO,wBAAyB9B"}