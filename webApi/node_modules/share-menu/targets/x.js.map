{"version":3,"file":"x.js","sources":["../src/targets/x.ts"],"sourcesContent":["import { updateArrayAttribute, updateStringAttribute } from '../helpers.js';\nimport type { ShareMenu, ShareTarget } from '../share-menu.js';\n\nexport class XShareTarget extends HTMLElement implements ShareTarget {\n  public readonly displayName = 'X';\n  public readonly color = '000';\n  public readonly icon =\n    'M202 12h39l-86 99 101 133h-79l-62-81-71 81H5l91-105L0 12h81l56 74 65-74Zm-13 209h21L70 35H46l143 186Z';\n\n  /**\n   * The source to attribute the post to.\n   * The attribution will appear in a post as ` via @username` translated into the language of the post author.\n   * A `via` parameter may be auto-populated from a link or anchor element linked to an X profile page with a `me` relationship token.\n   *\n   * @return {string | null}\n   */\n  public get via(): string | null {\n    return this.getAttribute('via');\n  }\n\n  public set via(val: string | null | undefined) {\n    updateStringAttribute(this, 'via', val);\n  }\n\n  /**\n   * A comma-separated list of hashtags.\n   * Omit a preceding \"#\" from each hashtag; the post composer will automatically\n   * add the proper space-separated hashtag by language.\n   *\n   * @return {string[]}\n   */\n  public get hashtags(): string[] {\n    return this.getAttribute('hashtags')?.split(',') || [];\n  }\n\n  public set hashtags(val: string[] | null | undefined) {\n    updateArrayAttribute(this, 'hashtags', val);\n  }\n\n  public share(shareMenu: ShareMenu) {\n    shareMenu.openWindow('https://x.com/intent/post', {\n      text: `${shareMenu.title}\\n${shareMenu.text}`,\n      url: shareMenu.url,\n      via: this.via ?? undefined,\n      ...(this.hashtags.length > 0 && { hashtags: this.hashtags.join(',') }),\n    });\n  }\n}\n\ncustomElements.define('share-target-x', XShareTarget);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'share-target-x': XShareTarget;\n  }\n}\n"],"names":["XShareTarget","HTMLElement","constructor","this","displayName","color","icon","via","getAttribute","val","updateStringAttribute","hashtags","_a","split","updateArrayAttribute","share","shareMenu","openWindow","Object","assign","text","title","url","undefined","length","join","customElements","define"],"mappings":"gFAGM,MAAOA,UAAqBC,YAAlC,WAAAC,uBACkBC,KAAWC,YAAG,IACdD,KAAKE,MAAG,MACRF,KAAIG,KAClB,uGAwCH,CA/BC,OAAWC,GACT,OAAOJ,KAAKK,aAAa,MAC1B,CAED,OAAWD,CAAIE,GACbC,EAAsBP,KAAM,MAAOM,EACpC,CASD,YAAWE,SACT,OAAoC,QAA7BC,EAAAT,KAAKK,aAAa,mBAAW,IAAAI,OAAA,EAAAA,EAAEC,MAAM,OAAQ,EACrD,CAED,YAAWF,CAASF,GAClBK,EAAqBX,KAAM,WAAYM,EACxC,CAEM,KAAAM,CAAMC,SACXA,EAAUC,WAAW,4BAA2BC,OAAAC,OAAA,CAC9CC,KAAM,GAAGJ,EAAUK,UAAUL,EAAUI,OACvCE,IAAKN,EAAUM,IACff,IAAa,QAARK,EAAAT,KAAKI,WAAG,IAAAK,EAAAA,OAAIW,GACbpB,KAAKQ,SAASa,OAAS,GAAK,CAAEb,SAAUR,KAAKQ,SAASc,KAAK,OAElE,EAGHC,eAAeC,OAAO,iBAAkB3B"}