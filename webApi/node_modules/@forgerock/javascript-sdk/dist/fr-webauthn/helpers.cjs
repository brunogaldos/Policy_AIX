"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const s=require("./enums.cjs");function i(r){return r||[]}function c(r){const n=new Uint8Array(r);return new TextDecoder().decode(n)}function a(r){return r?r[1]:""}function u(r){try{return r.split("}").filter(e=>!!e&&e!=="]").map(e=>{const t=o(e);return{id:new Int8Array(t).buffer,type:"public-key"}})}catch{const e=new Error("Transforming credential object to string failed");throw e.name=s.WebAuthnOutcomeType.EncodingError,e}}function o(r){const n=/new Int8Array\((.+)\)/.exec(r);return n===null||n.length<2?[]:JSON.parse(n[1])}function y(r){if(Array.isArray(r))return r;if(typeof r=="string")return r&&r[0]==="["?JSON.parse(r):(r=r.replace(/(\w+):/g,'"$1":'),JSON.parse(`[${r}]`))}function d(r){return r.includes("rpId")?r.replace(/rpId: "(.+)",/,"$1"):r.replace(/id: "(.+)",/,"$1")}exports.arrayBufferToString=c;exports.ensureArray=i;exports.getIndexOne=a;exports.parseCredentials=u;exports.parseNumberArray=o;exports.parsePubKeyArray=y;exports.parseRelyingPartyId=d;
