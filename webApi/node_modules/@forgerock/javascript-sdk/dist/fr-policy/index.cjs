"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const o=require("./enums.cjs"),a=require("./message-creator.cjs");class l{static parseErrors(e,r){const s=[];return e.detail&&e.detail.failedPolicyRequirements&&e.detail.failedPolicyRequirements.map(t=>{s.push.apply(s,[{detail:t,messages:this.parseFailedPolicyRequirement(t,r)}])}),s}static parseFailedPolicyRequirement(e,r){const s=[];return e.policyRequirements.map(t=>{s.push(this.parsePolicyRequirement(e.property,t,r))}),s}static parsePolicyRequirement(e,r,s={}){const t=typeof r=="string"?JSON.parse(r):{...r},i=t.policyRequirement,c=s[i]||a[i]||a[o.PolicyKey.UnknownPolicy],n=t.params?{...t.params,policyRequirement:i}:{policyRequirement:i};return c(e,n)}}exports.PolicyKey=o.PolicyKey;exports.default=l;
