"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const c=require("./realm.cjs");function r(t){const e=t.protocol==="http:"&&["","80"].indexOf(t.port)===-1||t.protocol==="https:"&&["","443"].indexOf(t.port)===-1?`:${t.port}`:"";return`${t.protocol}//${t.hostname}${e}`}function u(t,o,e){const n=c.getRealmUrlPath(o),s={authenticate:`json/${n}/authenticate`,authorize:`oauth2/${n}/authorize`,accessToken:`oauth2/${n}/access_token`,endSession:`oauth2/${n}/connect/endSession`,userInfo:`oauth2/${n}/userinfo`,revoke:`oauth2/${n}/token/revoke`,sessions:`json/${n}/sessions/`};return e&&e[t]?e[t]:s[t]}function h(t,o){const e=new URL(t);if(o.startsWith("/"))return`${r(e)}${o}`;const n=e.pathname.split("/"),s=o.split("/").filter(i=>!!i),a=[...n.slice(0,-1),...s].join("/");return`${r(e)}${a}`}function f(t){const o=new URL(t),e={};return o.searchParams.forEach((n,s)=>e[s]=n),e}function l(t){const o=[];for(const e in t)t[e]&&o.push(e+"="+encodeURIComponent(t[e]));return o.join("&")}exports.getBaseUrl=r;exports.getEndpointPath=u;exports.parseQuery=f;exports.resolve=h;exports.stringify=l;
