"use strict";const l=require("./callbacks/factory.cjs"),r=require("./enums.cjs");class s{constructor(t,e){this.payload=t,this.type=r.StepType.Step,this.callbacks=[],t.callbacks&&(this.callbacks=this.convertCallbacks(t.callbacks,e))}getCallbackOfType(t){const e=this.getCallbacksOfType(t);if(e.length!==1)throw new Error(`Expected 1 callback of type "${t}", but found ${e.length}`);return e[0]}getCallbacksOfType(t){return this.callbacks.filter(e=>e.getType()===t)}setCallbackValue(t,e){const a=this.getCallbacksOfType(t);if(a.length!==1)throw new Error(`Expected 1 callback of type "${t}", but found ${a.length}`);a[0].setInputValue(e)}getDescription(){return this.payload.description}getHeader(){return this.payload.header}getStage(){return this.payload.stage}convertCallbacks(t,e){return t.map(c=>(e||l)(c)||l(c))}}module.exports=s;
